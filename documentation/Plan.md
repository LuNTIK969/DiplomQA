# План автоматизации тестирования комплексного сервиса по приобретению туристических путевок.

**Цель создания плана** - объективная оценка особенностей каждого этапа, обоснование принятия соответствующих решений,
прогнозирование результатов.

## **1. Перечень автоматизируемых сценариев:**

**Входные данные.**
<details>
  <summary>Поле "Владелец"</summary>

- Принимает только латиницу
- Имеет ограничение по количеству символов. Min - 4 символа. Max - 27 символов.
- Использование пробелов допускается.

</details>

<details>
  <summary>Поле "Номер карты"</summary>

- Принимает только цифры.
- Использование пробелов допускается.
- Имеет ограничение по количеству цифр: от 13 цифр до 19 цифр (не считая пробелы).

</details>

<details>
  <summary>Поле "CVC/CVV код"</summary>

- Принимает только цифры.
- Имеет ограничение по количеству цифр: 3 цифры.

</details>

<details>
  <summary>Поле "Год"</summary>

- Принимает только цифры.
- Имеет ограничение по количеству цифр: 2 цифры.
- Две последние цифры текущего/последующих года/ов, но не более пяти лет с текущей даты.

</details>

<details>
  <summary>Поле "Месяц"</summary>

- Принимает только цифры.
- Имеет ограничение по количеству цифр: 2 цифры.
- Допустимый диапазон: 01 (min) - 12 (max).
- В случаях, когда указан настоящий год, допускается к вводу месяц не ранее текущего.

</details>

<details>
  <summary>Карты, предоставленные для проведения тестирования</summary>

- APPROVED - 4444 4444 4444 4441
- DECLINED - 4444 4444 4444 4442

</details>

---

- ***Позитивные сценарии***
  Предусловия:
- Номер карты **APPROVED** 4444 4444 4444 4441
- Номер карты **DECLINED** 4444 4444 4444 4442
- **Открыта** [страница приобретения тура](https://localhost:8080/)
- Нажата кнопка **"Купить"**(для оплаты с использованием дебетовой карты)/**Купить в кредит**(для оплаты в кредит по
  данным карты)

<details>
  <summary>1. Успешное приобретение с использованием карты APPROVED.</summary>

- ввести данные карты APPROVED в поля "Номер карты";
- ввести валидные данные в поля "Владелец", "Месяц", "Год", "CVC/CVV";
- кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Появляется всплывающее окно "Успешно! Операция одобрена банком.".
В БД появляется запись согласно введенным данным.
</details>

<details>
  <summary>2. Попытка приобретения с использованием карты DECLINED.</summary>

- ввести данные карты DECLINED в поля "Номер карты";
- ввести валидные данные в поля "Владелец", "Месяц", "Год", "CVC/CVV";
- кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Появилось всплывающее окно с уведомлением: "Ошибка! Банк отказал в проведении операции."
В БД появляется запись согласно введенным данным.
</details>

***Позитивные сценарии **"Купить в кредит"**(для оплаты в кредит по
данным карты) идентичны **"Купить"**(для оплаты с использованием дебетовой карты).***

---

- ***Негативные сценарии***

Предусловия:

- Номер карты **APPROVED** 4444 4444 4444 4441
- Номер карты **DECLINED** 4444 4444 4444 4442
- **Открыта** [страница приобретения тура](https://localhost:8080/)
- Нажата кнопка **"Купить"**(для оплаты с использованием дебетовой карты)/**Купить в кредит**(для оплаты в кредит по
  данным карты)

<details>
  <summary>1. Попытка приобретения с использованием номера карты, отличного от указанного в предусловии:</summary>

- Ввести в поле "Номер карты" невалидные данные (любые иные от указанных в предусловии).
  Пример: **"4444 4444 4444 4444"**;
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Появилось всплывающее окно с уведомлением: "Ошибка! Банк отказал в проведении операции."
В БД появляется запись согласно введенным данным.
</details>

<details>
  <summary>2. Попытка приобретения с использованием невалидного номера карты:</summary>

- Ввести в поле "Номер карты" невалидный номер карты.
  Пример: **"4"** или **"4444 4444 4444 44444"**;
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Номер карты": "Неверный формат".
Запись в БД отсутствует.
</details>

<details>
<summary>3. Отправка заявки с отсутствующими данными в поле "Номер карты":</summary>

- Поле "Номер карты" оставить пустым;
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Номер карты": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

<details>
<summary>4. Отправка заявки с невалидными данными в поле "месяц":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" невалидные данные.
  Пример: **"1"**, **"111"**, **13**;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Номер карты": "Неверно указан срок действия карты".
Запись в БД отсутствует.
</details>

<details>
<summary>5. Отправка заявки с отсутствующими данными в поле "Месяц":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Поле "Месяц" оставить пустым;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Месяц": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

<details>
<summary>6.  Отправка заявки с невалидной датой полем "Год":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" последние две цифры года более чем 5 лет от текущего года; года, следующего за текущим;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Год": "Неверный срок действия" / "Истёк срок
действия карты".
Запись в БД отсутствует.
</details>

<details>
<summary>7. Отправка заявки с невалидными данными в поле "Год":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" некорректный номер, например: **"0"** или **"000"**;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Год": "Неверный срок действия".
Запись в БД отсутствует.
</details>

<details>
<summary>8. Отправка заявки с отсутствующими данными в поле "Год":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Поле "Год" оставить пустым;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Год": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

<details>
<summary>9.  Отправка заявки с указанием владельца на кириллице:</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" данные на кириллице;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Владелец": "Неверный формат".
Запись в БД отсутствует.
</details>

<details>
<summary>10. Отправка заявки с заполнением "ФИО" владельца:</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" полное ФИО (фамилия+имя+отчество);
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Владелец": "Неверный формат".
Запись в БД отсутствует.
</details>

<details>
<summary>11. Отправка заявки введя невалидные данные владельца (меньше "min"/больше max/спецсимволы/цифры):</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" буквы на латинице, кол-во букв min - 1, min - 3;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".
---
- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" буквы на латинице, кол-во букв max + 1, max + 5;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".
---
- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" цифры/спецсимволы/цифры+спецсимволы;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Владелец": "Неверный формат".
Запись в БД отсутствует.
</details>

<details>
<summary>12. Отправка формы с указанием фамилии и имени владельца в нижнем или верхнем регистре:</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные используя только нижний/верхний регистр;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Введенные данные в поле "Владелец" автоматически форматируются под требуемый вид. Появляется
всплывающее окно "Успешно! Операция одобрена банком.".
В БД появляется запись согласно введенным данным.
</details>

<details>
<summary>13. Отправка заявки с отсутствующими данными в поле "Владелец":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Поле "Владелец" оставить пустым;
- Ввести в поле "CVC/CVV" валидные данные;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "Владелец": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

<details>
<summary>14. Отправка заявки введя невалидные данные "CVC/CVV":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Ввести в поле "CVC/CVV" валидные данные кол-вом min-1, max+1;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "CVC/CVV": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

<details>
  <summary>15. Отправка заявки с отсутствующими данными в поле "CVC/CVV":</summary>

- Ввести в поле "Номер карты" валидные данные (APPROVED);
- Ввести в поле "Месяц" валидные данные;
- Ввести в поле "Год" валидные данные;
- Ввести в поле "Владелец" валидные данные;
- Поле "CVC/CVV" оставить пустым;
- Кликнуть кнопку "Продолжить".

***Ожидаемый результат:*** Сообщение об ошибке под полем "CVC/CVV": "Поле обязательно для заполнения".
Запись в БД отсутствует.
</details>

***Негативные сценарии **"Купить в кредит"**(для оплаты в кредит по
данным карты) идентичны **"Купить"**(для оплаты с использованием дебетовой карты).***

---

## **2. Перечень используемых инструментов с обоснованием выбора:**

**1. Среда разработки: ***IntelliJ IDEA*****

- Интеллектуальная среда разработки. Умная и удобная среда разработки для Java с поддержкой всех последних технологий и
  фреймворков.

**2. Язык программирования: ***Java JDK 11*****

- Комплект разработчика приложений на языке Java, включающий в себя компилятор Java (javac) и стандартные библиотеки
  классов Java.

**3. Система репортинга: ***Allure*****

- Фреймворк для создания простых и понятных отчётов по итогам автоматизированного тестирования.

**4. ***Gradle*****

- Система для автоматизации сборки приложений и сбора статистики об использовании программных библиотек. Код на Gradle
  проще и меньше.

**5. ***JUnit 5*****

- Наиболее широко используемая среда тестирования для приложений Java. Полностью совместим с инструментами, которыми
  обычно пользуются разработчики на Java.

**6. ***Docker Desktop*****

- Популярная платформа контейнеризации, которая позволяет запускать dockerized приложения. Так как будет осуществляться
  работа с базой данных, Docker необходим для развертывания контейнера с СУБД.

**7. ***JavaFaker*****

- Библиотека с открытым исходным кодом, генерирует случайные данные для дальнейшего тестирования.

**8. ***Git и GitHub*****

- Git одна из самых распространенных систем контроля версий, очень мощная система, предлагающая пользователям широкие
  возможности. GitHub - облачная платформа для хостинга IT-проектов и совместной разработки.

**9. ***Selenide*****

- Обёртка вокруг Selenium WebDriver, позволяющая быстро и просто его использовать при написании тестов, сосредоточившись
  на логике, а не на работе с браузером.

**10. ***Rest Assured*****

- Широко используемая технология с открытым исходным кодом для тестирования автоматизации REST API, основанная на библиотеке на основе java.

**11. ***Lombok*****

- Библиотека для сокращения кода в классах и расширения функциональности языка Java.

## **3. Перечень необходимых разрешений, данных и доступов:**

1. Доступ к тестовой СУБД, для проверки результатов отправки запросов с тестовыми данными.
2. Критерии к вводимым данным при заполнении полей, с целью выявления валидных/невалидных требований.

## **4. Перечень и описание возможных рисков при автоматизации:**

1. Автоматизация тестов может занять время превышающее расчётное.
2. Сложность поддержания кода автотестов в актуальном состоянии.
3. Вероятность иного поведения реальной СУБД, в отличие от тестовой СУБД.
4. Изменение требований к валидным данным в процессе тестирования.
5. Возможность изменения CSS-селекторов веб-сервиса.
6. Отсутствие документации к сервису.

## **5. Перечень необходимых специалистов для автоматизации:**

- Специалист по автоматизированному тестированию уровня Junior

## **6. Интервальная оценка с учётом рисков в часах:**

С погрешностью ~20%, для специалиста по автоматизированному тестированию уровня Junior, понадобится 65 часов:

1. Настройка окружения.
2. Подготовка тестов.
3. Автоматизация тестов.
4. Формирование отчета по итогам проведенного тестирования.